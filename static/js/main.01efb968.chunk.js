(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{152:function(e,a,r){e.exports=r(310)},310:function(e,a,r){"use strict";r.r(a);var t=r(0),n=r.n(t),l=r(125),i=r.n(l);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(157);var c=r(321),o=r(314),s=r(315),u=r(316),d=r(313),m=r(320),v=r(34),p=r(28),E=r(129),h=r(31),g="LOAD_DRIVERS_REQUEST",f="LOAD_DRIVERS_SUCCESS",D="LOAD_DRIVERS_ERROR",b="LOAD_DRIVER_DETAIL_REQUEST",y="LOAD_DRIVER_DETAIL_SUCCESS",R="LOAD_DRIVER_DETAIL_ERROR",O={drivers:[],totalPages:0,loading:!1,error:null,driver:null,races:[]};var C=Object(p.c)({drivers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case g:return Object(h.a)({},e,{loading:!0,error:null});case f:return Object(h.a)({},e,{drivers:a.drivers,totalPages:a.totalPages,loading:!1});case D:return Object(h.a)({},e,{drivers:a.drivers,loading:!1,error:a.error});case b:return Object(h.a)({},e,{loading:!0,error:null});case y:return Object(h.a)({},e,{loading:!1,driver:a.driver,races:a.races});case R:return Object(h.a)({},e,{loading:!1,error:a.error});default:return e}}}),j=Object(p.d)(C,Object(p.a)(E.a)),_=r(58),w=r(59),P=r(63),k=r(60),I=r(64),L=r(319),A=r(318),S=r(317),H=r(45),B=r.n(H),N=r(84),T=r(65),x=r.n(T),M="https://ergast.com/api/",W={driversList:function(){var e=Object(N.a)(B.a.mark(function e(a){var r,t,n,l,i;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=10,t=10*(a-1),e.next=4,x.a.get(M+"f1/drivers.json?limit=".concat(r,"&offset=").concat(t));case 4:return n=e.sent,l=n.data,i=Math.ceil(parseInt(l.MRData.total,10)/r),e.abrupt("return",{drivers:l.MRData.DriverTable.Drivers,totalPages:i});case 8:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),loadDriverDetail:function(){var e=Object(N.a)(B.a.mark(function e(a){var r,t,n,l;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get(M+"f1/drivers/".concat(a,".json"));case 2:return r=e.sent,t=r.data,e.next=6,x.a.get(M+"f1/drivers/".concat(a,"/results.json"));case 6:return n=e.sent,l=n.data,e.abrupt("return",{driver:t.MRData.DriverTable.Drivers[0],races:l.MRData.RaceTable.Races});case 9:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()},V=function(e){function a(){var e,r;Object(_.a)(this,a);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(r=Object(P.a)(this,(e=Object(k.a)(a)).call.apply(e,[this].concat(n)))).handlePageChange=function(e){r.props.history.push("/drivers/page/".concat(e))},r}return Object(I.a)(a,e),Object(w.a)(a,[{key:"componentDidMount",value:function(){this.props.loadDrivers(this.getCurrentPage())}},{key:"componentWillReceiveProps",value:function(e){e.match.params.page_num!==this.props.match.params.page_num&&this.props.loadDrivers(this.getCurrentPage())}},{key:"getCurrentPage",value:function(){return this.props.match.params.page_num||1}},{key:"render",value:function(){var e=this,a=this.props,r=a.drivers,t=a.totalPages,l=a.loading,i=a.error,c=this.getCurrentPage();return n.a.createElement(d.a,null,l&&n.a.createElement("div",null,"Loading..."),i&&n.a.createElement(L.a,{error:!0},n.a.createElement("p",null,i)),!l&&n.a.createElement("div",null,n.a.createElement(A.a,{basic:"very"},n.a.createElement(A.a.Header,null,n.a.createElement(A.a.Row,null,n.a.createElement(A.a.HeaderCell,null,"Name"),n.a.createElement(A.a.HeaderCell,null,"Nationality"),n.a.createElement(A.a.HeaderCell,null,"Wikipedia link"),n.a.createElement(A.a.HeaderCell,null,"Birthdate"))),n.a.createElement(A.a.Body,null,r.map(function(e){return n.a.createElement(A.a.Row,{key:e.driverId},n.a.createElement(A.a.Cell,null,n.a.createElement(o.a,{to:"/drivers/".concat(e.driverId)},e.givenName," ",e.familyName)),n.a.createElement(A.a.Cell,null,e.nationality),n.a.createElement(A.a.Cell,null,n.a.createElement("a",{href:e.url},e.url)),n.a.createElement(A.a.Cell,null,e.dateOfBirth))}))),n.a.createElement(S.a,{defaultActivePage:c,totalPages:t,onPageChange:function(a){e.handlePageChange(a.target.attributes.value.value)}})))}}]),a}(t.Component),U=Object(v.b)(function(e){return{drivers:e.drivers.drivers,totalPages:e.drivers.totalPages,loading:e.drivers.loading,error:e.drivers.error}},{loadDrivers:function(e){return function(a){a({type:g}),W.driversList(e).then(function(e){var r=e.drivers,t=e.totalPages;a({type:f,drivers:r,totalPages:t})}).catch(function(e){a({type:D,error:e.message||"Internal server error"})})}}})(V),J=function(e){function a(){var e,r;Object(_.a)(this,a);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return(r=Object(P.a)(this,(e=Object(k.a)(a)).call.apply(e,[this].concat(n)))).handlePageChange=function(e){r.props.history.push("/drivers/pages/".concat(e))},r}return Object(I.a)(a,e),Object(w.a)(a,[{key:"componentDidMount",value:function(){this.props.loadDriverDetail(this.props.match.params.driver_id)}},{key:"componentWillReceiveProps",value:function(e){e.match.params.driver_id!==this.props.match.params.driver_id&&this.loadDriverDetail(this.props.match.params.driver_id)}},{key:"render",value:function(){var e=this.props,a=e.driver,r=e.races,t=e.loading,l=e.error;return n.a.createElement(d.a,null,t&&n.a.createElement("div",null,"Loading..."),l&&n.a.createElement(L.a,{error:!0},n.a.createElement("p",null,l)),!t&&a&&n.a.createElement("div",null,n.a.createElement("h2",null,a.givenName," ",a.familyName),n.a.createElement("div",null,"Nationality: ",a.nationality),n.a.createElement("div",null,"Birthdate: ",a.dateOfBirth),n.a.createElement("a",{href:a.url},"Wikipedia link"),n.a.createElement("h3",null,"Races"),n.a.createElement(A.a,{basic:"very"},n.a.createElement(A.a.Header,null,n.a.createElement(A.a.Row,null,n.a.createElement(A.a.HeaderCell,null,"Race name"),n.a.createElement(A.a.HeaderCell,null,"Position"),n.a.createElement(A.a.HeaderCell,null,"Season"),n.a.createElement(A.a.HeaderCell,null,"Date"),n.a.createElement(A.a.HeaderCell,null,"Wikipedia link"))),n.a.createElement(A.a.Body,null,r&&r.map(function(e){return n.a.createElement(A.a.Row,null,n.a.createElement(A.a.Cell,null,e.raceName),n.a.createElement(A.a.Cell,null,e.round),n.a.createElement(A.a.Cell,null,e.season),n.a.createElement(A.a.Cell,null,e.date),n.a.createElement(A.a.Cell,null,n.a.createElement("a",{href:e.url},e.url)))})))))}}]),a}(t.Component),Q=Object(v.b)(function(e,a){return{loading:e.drivers.loading,error:e.drivers.error,driver:e.drivers.driver,races:e.drivers.races}},{loadDriverDetail:function(e){return function(a){a({type:b}),W.loadDriverDetail(e).then(function(e){var r=e.driver,t=e.races;a({type:y,driver:r,races:t})}).catch(function(e){a({type:R,error:e.message||"Internal server error"})})}}})(J);i.a.render(n.a.createElement(function(){return n.a.createElement(v.a,{store:j},n.a.createElement(c.a,{basename:"/f1-frontend"},n.a.createElement("div",null,n.a.createElement(d.a,null,n.a.createElement(m.a,{secondary:!0,pointing:!0},n.a.createElement(m.a.Item,{name:"drivers",active:!0,as:o.a,to:"/"},"Drivers list")),n.a.createElement("br",null)),n.a.createElement(s.a,null,n.a.createElement(u.a,{exact:!0,path:"/",component:U}),n.a.createElement(u.a,{path:"/drivers/page/:page_num",component:U}),n.a.createElement(u.a,{path:"/drivers/:driver_id",component:Q}),n.a.createElement(u.a,{path:"/drivers/:driver_id/page/:page_num",component:Q})))))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[152,2,1]]]);
//# sourceMappingURL=main.01efb968.chunk.js.map