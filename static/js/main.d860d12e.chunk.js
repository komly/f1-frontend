(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,a,t){e.exports=t(301)},301:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(119),i=t.n(l);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(148);var c=t(310),o=t(305),s=t(306),u=t(307),m=t(304),d=t(311),v=t(19),p=t.n(v),h=t(27),f=t(54),E=t(55),g=t(59),y=t(56),w=t(60),b=t(308),D=t(309),C=t(61),k=t.n(C),P="https://ergast.com/api/",j={driversList:function(){var e=Object(h.a)(p.a.mark(function e(a){var t,r,n,l,i;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=10,r=10*(a-1),e.next=4,k.a.get(P+"f1/drivers.json?limit=".concat(t,"&offset=").concat(r));case 4:return n=e.sent,l=n.data,i=Math.ceil(parseInt(l.MRData.total,10)/t),e.abrupt("return",{drivers:l.MRData.DriverTable.Drivers,totalPages:i});case 8:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),loadDriverDetail:function(){var e=Object(h.a)(p.a.mark(function e(a){var t,r,n,l;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get(P+"f1/drivers/".concat(a,".json"));case 2:return t=e.sent,r=t.data,e.next=6,k.a.get(P+"f1/drivers/".concat(a,"/results.json"));case 6:return n=e.sent,l=n.data,e.abrupt("return",{driver:r.MRData.DriverTable.Drivers[0],races:l.MRData.RaceTable.Races});case 9:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()},O=function(e){function a(){var e,t;Object(f.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(t=Object(g.a)(this,(e=Object(y.a)(a)).call.apply(e,[this].concat(n)))).state={loading:!0,drivers:[],totalPages:0},t.handlePageChange=function(e){t.props.history.push("/drivers/page/".concat(e))},t}return Object(w.a)(a,e),Object(E.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.match.params.page_num||1;this.loadDrivers(e)}},{key:"loadDrivers",value:function(){var e=Object(h.a)(p.a.mark(function e(a){var t=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({currentPage:a,loading:!0}),j.driversList(a).then(function(e){var a=e.drivers,r=e.totalPages;t.setState({drivers:a,loading:!1,totalPages:r})});case 2:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){e.match.params.page_num!==this.props.match.params.page_num&&this.loadDrivers(e.match.params.page_num||1)}},{key:"render",value:function(){var e=this,a=this.state,t=a.drivers,r=a.totalPages,l=a.currentPage,i=a.loading;return n.a.createElement(m.a,null,i&&n.a.createElement("div",null,"Loading..."),!i&&n.a.createElement("div",null,n.a.createElement(b.a,{basic:"very"},n.a.createElement(b.a.Header,null,n.a.createElement(b.a.Row,null,n.a.createElement(b.a.HeaderCell,null,"Name"),n.a.createElement(b.a.HeaderCell,null,"Nationality"),n.a.createElement(b.a.HeaderCell,null,"Wikipedia link"),n.a.createElement(b.a.HeaderCell,null,"Birthdate"))),n.a.createElement(b.a.Body,null,t.map(function(e){return n.a.createElement(b.a.Row,{key:e.driverId},n.a.createElement(b.a.Cell,null,n.a.createElement(o.a,{to:"/drivers/".concat(e.driverId)},e.givenName," ",e.familyName)),n.a.createElement(b.a.Cell,null,e.nationality),n.a.createElement(b.a.Cell,null,n.a.createElement("a",{href:e.url},e.url)),n.a.createElement(b.a.Cell,null,e.dateOfBirth))}))),n.a.createElement(D.a,{defaultActivePage:l,totalPages:r,onPageChange:function(a){e.handlePageChange(a.target.attributes.value.value)}})))}}]),a}(r.Component),R=function(e){function a(){var e,t;Object(f.a)(this,a);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(t=Object(g.a)(this,(e=Object(y.a)(a)).call.apply(e,[this].concat(n)))).state={loading:!0,driver:null,races:[],currentPage:0,totalPages:0},t.handlePageChange=function(e){t.props.history.push("/drivers/pages/".concat(e))},t}return Object(w.a)(a,e),Object(E.a)(a,[{key:"componentDidMount",value:function(){this.loadDriverDetail(this.props.match.params.driver_id)}},{key:"loadDriverDetail",value:function(){var e=Object(h.a)(p.a.mark(function e(a,t){var r=this;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({currentPage:t,loading:!0}),j.loadDriverDetail(a).then(function(e){var a=e.driver,t=e.races;r.setState({driver:a,races:t,loading:!1})});case 2:case"end":return e.stop()}},e,this)}));return function(a,t){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(e){e.match.params.driver_id!==this.props.match.params.driver_id&&this.loadDriverDetail(this.props.match.params.driver_id)}},{key:"render",value:function(){var e=this.state,a=e.driver,t=e.races,r=e.loading;return n.a.createElement(m.a,null,r&&n.a.createElement("div",null,"Loading..."),!r&&n.a.createElement("div",null,n.a.createElement("h2",null,a.givenName," ",a.familyName),n.a.createElement("div",null,"Nationality: ",a.nationality),n.a.createElement("div",null,"Birthdate: ",a.dateOfBirth),n.a.createElement("a",{href:a.url},"Wikipedia link"),n.a.createElement(b.a,{basic:"very"},n.a.createElement(b.a.Header,null,n.a.createElement(b.a.Row,null,n.a.createElement(b.a.HeaderCell,null,"Name"),n.a.createElement(b.a.HeaderCell,null,"Position"),n.a.createElement(b.a.HeaderCell,null,"Season"),n.a.createElement(b.a.HeaderCell,null,"Date"),n.a.createElement(b.a.HeaderCell,null,"Wikipedia link"))),n.a.createElement(b.a.Body,null,t.map(function(e){return n.a.createElement(b.a.Row,null,n.a.createElement(b.a.Cell,null,e.raceName),n.a.createElement(b.a.Cell,null,e.round),n.a.createElement(b.a.Cell,null,e.season),n.a.createElement(b.a.Cell,null,e.date),n.a.createElement(b.a.Cell,null,n.a.createElement("a",{href:e.url},e.url)))})))))}}]),a}(r.Component);i.a.render(n.a.createElement(function(){return n.a.createElement(c.a,null,n.a.createElement("div",null,n.a.createElement(m.a,null,n.a.createElement(d.a,{secondary:!0,pointing:!0},n.a.createElement(d.a.Item,{name:"drivers",active:!0,as:o.a,to:"/"},"Drivers list")),n.a.createElement("br",null)),n.a.createElement(s.a,null,n.a.createElement(u.a,{exact:!0,path:"/",component:O}),n.a.createElement(u.a,{path:"/drivers/page/:page_num",component:O}),n.a.createElement(u.a,{path:"/drivers/:driver_id",component:R}),n.a.createElement(u.a,{path:"/drivers/:driver_id/page/:page_num",component:R}))))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[143,2,1]]]);
//# sourceMappingURL=main.d860d12e.chunk.js.map